{% extends 'base.html' %}

{% block content %}
  <div class="h-full flex gap-2 lg:flex-row flex-col lg:justify-center">
    <div class="flex flex-col gap-2 w-full h-full">
      <div class="flex flex-col gap-2 p-3 card">
        <div class="flex lg:flex-row flex-col gap-2">
          <a href="/" class="btn !bg-secondary lg:max-w-[5rem]">뒤로</a>
          <form class="input-group flex-row flex-1 gap-2" id="search-form">
            <input id="search" name="search" placeholder=" " autocomplete="off">
            <label for="search">검색어 입력</label>
            <button class="w-auto" type="submit" title="검색">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon">
                <path stroke-linecap="round" stroke-linejoin="round"
                      d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"/>
              </svg>
            </button>
            <button id="btn-opt-reset" type="button" class="w-auto" title="초기화">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon">
                <path stroke-linecap="round" stroke-linejoin="round"
                      d="M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"/>
              </svg>
            </button>
            <button id="btn-opt-help" type="button" class="w-auto" title="도움말">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="icon">
                <path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"/>
              </svg>
            </button>
          </form>
        </div>
      </div>
      <div class="card flex-1 overflow-y">
        <div id="config-list" class="flex flex-col gap-2">
        </div>
      </div>
    </div>
  </div>
  <div class="hidden">
    <div id="config-view" class="select-auto">
      <form class="flex flex-col gap-2" id="config-form">
        <div class="input-group">
          <input id="display" name="displayName" placeholder=" ">
          <label for="display">표시 명</label>
        </div>
        <div class="input-group">
          <input id="url" name="prometheusUrl" placeholder=" " disabled>
          <label for="url">프로메테우스 API URL</label>
        </div>
        <div class="input-group">
          <input name="config" id="config-file" type="file">
          <label for="config-file">쿠버네티스 config 파일</label>
        </div>
        <textarea id="config-file-preview" class="resize-none" rows="5" disabled></textarea>
        <button type="button" id="modify-file" class="hidden">파일 수정하기</button>
        <button type="button" id="cancel-file" class="hidden">수정 취소</button>
        <p id="config-file-hint">선택된 config 파일이 없다면 기존 파일을 유지합니다.</p>
        <button type="submit" class="hidden"/>
      </form>
    </div>
  </div>
{% endblock %}

{% block script %}
  <script src="{{ url_for('static', path='/js/page/kube.js') }}"></script>
{% endblock %}